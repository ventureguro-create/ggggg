# Twitter Parser V2

**Playwright + Cookie Sessions + Proxy Support**

## ğŸ¯ ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°

Twitter ÑƒÑĞ¸Ğ»Ğ¸Ğ» Ğ°Ğ½Ñ‚Ğ¸Ğ±Ğ¾Ñ‚ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñƒ:
- Puppeteer + Stealth Ğ´ĞµÑ‚ĞµĞºÑ‚Ğ¸Ñ‚ÑÑ
- Ğ›Ğ¾Ğ³Ğ¸Ğ½ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ "Could not log you in" Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ
- ĞĞºĞºĞ°ÑƒĞ½Ñ‚Ñ‹ ÑƒÑ…Ğ¾Ğ´ÑÑ‚ Ğ² soft-ban

## âœ… Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ

1. **Playwright** Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Puppeteer (Ğ»ÑƒÑ‡ÑˆĞµ Ğ¼Ğ°ÑĞºĞ¸Ñ€ÑƒĞµÑ‚ÑÑ)
2. **Cookie-based ÑĞµÑÑĞ¸Ğ¸** (Ğ±ĞµĞ· Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ€Ğ°Ğ·)
3. **Ğ ĞµĞ·Ğ¸Ğ´ĞµĞ½Ñ‚Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾ĞºÑĞ¸** (Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ IP)
4. **Anti-detection ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹** (WebGL, Canvas, etc.)

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### 1. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

```bash
cd /app/twitter-parser-v2
yarn install
npx playwright install chromium
```

### 2. Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ cookies (Ğ²Ğ°Ğ¶Ğ½Ğ¾!)

```bash
# ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€ Ğ´Ğ»Ñ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ°
yarn export-cookies

# Ğ¡Ğ»ĞµĞ´ÑƒĞ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸ÑĞ¼:
# 1. Ğ’Ğ²ĞµĞ´Ğ¸ ID ÑĞµÑÑĞ¸Ğ¸ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: account1)
# 2. Ğ’Ğ²ĞµĞ´Ğ¸ username Twitter Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°
# 3. Ğ’Ğ²ĞµĞ´Ğ¸ proxy URL (Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸)
# 4. Ğ—Ğ°Ğ»Ğ¾Ğ³Ğ¸Ğ½ÑŒÑÑ Ğ² Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²ÑˆĞµĞ¼ÑÑ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ
# 5. ĞĞ°Ğ¶Ğ¼Ğ¸ Enter Ğ¿Ğ¾ÑĞ»Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ³Ğ¾ Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ°
```

### 3. Ğ¢ĞµÑÑ‚ ÑĞµÑÑĞ¸Ğ¸

```bash
yarn test-session account1
```

### 4. Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞµÑ€Ğ²ĞµÑ€Ğ°

```bash
yarn start
# Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸:
yarn dev
```

## ğŸ”Œ API Endpoints

### Health Check
```
GET /health
```

### Sessions
```
GET /sessions              # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑĞµÑÑĞ¸Ğ¹
POST /sessions             # Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞµÑÑĞ¸Ñ
POST /sessions/:id/test    # ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑĞµÑÑĞ¸Ñ
DELETE /sessions/:id       # Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑĞµÑÑĞ¸Ñ
```

### Twitter Data
```
POST /search/:keyword      # ĞŸĞ¾Ğ¸ÑĞº Ñ‚Ğ²Ğ¸Ñ‚Ğ¾Ğ² Ğ¿Ğ¾ ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¼Ñƒ ÑĞ»Ğ¾Ğ²Ñƒ
POST /tweets/:username     # Ğ¢Ğ²Ğ¸Ñ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
GET /profile/:username     # ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
```

## ğŸ›¡ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Twitter API                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â†“          â†“          â†“              â”‚
â”‚      Proxy 1     Proxy 2    Proxy 3          â”‚
â”‚    (Resident)  (Resident) (Mobile)           â”‚
â”‚         â†“          â†“          â†“              â”‚
â”‚    Session 1   Session 2  Session 3          â”‚
â”‚    (cookies)   (cookies)  (cookies)          â”‚
â”‚         â†“          â†“          â†“              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                   â†“                          â”‚
â”‚           Session Manager                    â”‚
â”‚        (rate limit, cooldown)                â”‚
â”‚                   â†“                          â”‚
â”‚           Browser Manager                    â”‚
â”‚      (Playwright + Stealth)                  â”‚
â”‚                   â†“                          â”‚
â”‚           Twitter Client                     â”‚
â”‚       (GraphQL interceptor)                  â”‚
â”‚                   â†“                          â”‚
â”‚            Express API                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### ĞŸĞ¾Ğ¸ÑĞº Ñ‚Ğ²Ğ¸Ñ‚Ğ¾Ğ²

```bash
curl -X POST http://localhost:5001/search/solana \
  -H "Content-Type: application/json" \
  -d '{"limit": 20}'
```

### Ğ¢Ğ²Ğ¸Ñ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

```bash
curl -X POST http://localhost:5001/tweets/elonmusk \
  -H "Content-Type: application/json" \
  -d '{"limit": 10}'
```

## ğŸ”§ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¿Ñ€Ğ¾ĞºÑĞ¸

Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ñ‹:
- **Bright Data** (residential/mobile)
- **Oxylabs** (residential)
- **Smartproxy** (residential)
- **IPRoyal** (Ğ±ÑĞ´Ğ¶ĞµÑ‚Ğ½Ñ‹Ğ¹ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚)

Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ¿Ñ€Ğ¾ĞºÑĞ¸:
```
http://username:password@host:port
socks5://username:password@host:port
```

## âš ï¸ Ğ’Ğ°Ğ¶Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ

1. **ĞĞ´Ğ¸Ğ½ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚ = Ğ¾Ğ´Ğ¸Ğ½ Ğ¿Ñ€Ğ¾ĞºÑĞ¸**
   - ĞĞµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¾Ğ´Ğ¸Ğ½ Ğ¿Ñ€Ğ¾ĞºÑĞ¸ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ¾Ğ²

2. **Rate limiting**
   - ~200 Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²/Ñ‡Ğ°Ñ Ğ½Ğ° Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚
   - ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ cooldown Ğ¿Ñ€Ğ¸ Ğ¿Ñ€ĞµĞ²Ñ‹ÑˆĞµĞ½Ğ¸Ğ¸

3. **Cookie expiration**
   - Cookies Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¸ÑÑ‚ĞµĞºĞ°Ñ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· ~30 Ğ´Ğ½ĞµĞ¹
   - ĞŸĞµÑ€Ğ¸Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞ¹Ñ‚Ğµ ÑĞµÑÑĞ¸Ğ¸

4. **Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ**
   - ĞĞµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚Ğµ cookies Ğ² git
   - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ°
